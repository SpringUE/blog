(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc285"],{"4d76":function(e,n,t){"use strict";t.r(n);var l=t("f2bf");const a={class:"blog-doc-component"},o=Object(l["p"])('<h1>XForm表单</h1><h2 id="bei-jing" tabindex="-1"><a class="header-anchor" href="#bei-jing">¶</a> 背景</h2><p>复杂型表单组件逻辑处理繁琐<br> element-ui没有功能强大的表单组件</p><h2 id="he-xin-gong-neng" tabindex="-1"><a class="header-anchor" href="#he-xin-gong-neng">¶</a> 核心功能</h2><p>*基于element-ui的el-form封装，使用json配置生成表单<br> *支持栅格化布局，支持向右排斥槽位(例如一个为span=4的表单项独占一行)<br> *支持表单项前置&amp;后置插槽<br> *支持任意组件，以及props|events传参<br> *内置依赖联动功能<br> *支持选择任意表单项进行事件监听或者操作赋值等<br> *支持动态插入表单项<br> *支持跨表单项联动<br> *记忆重置功能</p><h2 id="dian-xing-biao-dan" tabindex="-1"><a class="header-anchor" href="#dian-xing-biao-dan">¶</a> 典型表单</h2><p>通过json来配置表单项</p>',7),s=Object(l["o"])("div",null,[Object(l["o"])("p",null,"典型表单")],-1),c=Object(l["o"])("h2",{id:"bu-ju",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#bu-ju"},"¶"),Object(l["q"])(" 布局")],-1),m=Object(l["o"])("p",null,[Object(l["q"])("采用栅格化布局"),Object(l["o"])("br"),Object(l["q"])(" labelWidth属性设置所有表单项label的宽度"),Object(l["o"])("br"),Object(l["q"])(" span属性设置表单项的局部栅格，默认为8，也就是三列一行"),Object(l["o"])("br"),Object(l["q"])(" 若要行内表单请根据栅格调整")],-1),r=Object(l["o"])("div",null,[Object(l["o"])("p",null,"布局")],-1),d=Object(l["o"])("h2",{id:"du-zhan-yi-xing",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#du-zhan-yi-xing"},"¶"),Object(l["q"])(" 独占一行")],-1),i=Object(l["o"])("p",null,"表单项中设置offsetRight属性向右排斥槽位即可(栅格)，例如：offsetRight: 16，向右排斥16个栅格",-1),b=Object(l["o"])("div",null,[Object(l["o"])("p",null,"独占一行")],-1),p=Object(l["o"])("h2",{id:"an-niu-lan",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#an-niu-lan"},"¶"),Object(l["q"])(" 按钮栏")],-1),u=Object(l["o"])("p",null,"隐藏按钮栏",-1),f=Object(l["o"])("div",null,[Object(l["o"])("p",null,"按钮栏")],-1),h=Object(l["o"])("h2",{id:"cha-cao",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#cha-cao"},"¶"),Object(l["q"])(" 插槽")],-1),v=Object(l["o"])("p",null,"表单项内容区前置, 后置插槽",-1),j=Object(l["o"])("div",null,[Object(l["o"])("p",null,"插槽")],-1),O=Object(l["o"])("h2",{id:"zu-jian-shu-ru",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#zu-jian-shu-ru"},"¶"),Object(l["q"])(" 组件输入")],-1),g=Object(l["o"])("p",null,"支持任意形式组件，以及props|events传参",-1),x=Object(l["o"])("ul",null,[Object(l["o"])("li",null,"Antd组件"),Object(l["o"])("li",null,"自定义组件"),Object(l["o"])("li",null,"第三方组件"),Object(l["o"])("li",null,"Object对象组件")],-1),w=Object(l["o"])("pre",null,[Object(l["o"])("code",{class:"language-html"},'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nimport { Select } from "ant-design-vue";\nimport { PopSelector } from "@/src/components/PopSelector.vue";\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "审批人",\n            field: "approver",\n            editor: {\n              component: PopSelector,\n            }\n          },\n          {\n            label: "活动区域",\n            field: "area",\n            editor: {\n              component: Select,\n              props: {\n                options: [],\n              }\n            }\n          },\n          {\n            label: "活动主题",\n            field: "theme",\n            editor: {\n              component: {\n                template: `<a-textarea\n      v-model:value="value2"\n      placeholder="主题内容..."\n      @change="e => $emit(\'input\', e)"\n      :auto-size="{ minRows: 2, maxRows: 5 }"\n    />`,\n                props: [\'value\'],\n                data() {\n                  return {\n                    value2: \'\'\n                  }\n                }\n              }\n            }\n          },\n        ],\n        model: {\n          approver: "",\n          area: "man",\n          theme: \'\',\n        },\n      },\n    };\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n.page-container {}\n</style>\n')],-1),y=Object(l["o"])("p",null,":::",-1),F=Object(l["o"])("h2",{id:"shi-jian-yu-jian-ting",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#shi-jian-yu-jian-ting"},"¶"),Object(l["q"])(" 事件与监听")],-1),S=Object(l["o"])("p",null,"支持选择任意表单项进行事件监听或者操作赋值等",-1),X=Object(l["o"])("div",null,[Object(l["o"])("p",null,"插槽")],-1),z=Object(l["o"])("h2",{id:"refcao-zuo",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#refcao-zuo"},"¶"),Object(l["q"])(" ref操作")],-1),q=Object(l["o"])("div",null,[Object(l["o"])("p",null,"ref操作")],-1),W=Object(l["o"])("h2",{id:"yi-lai-lian-dong",tabindex:"-1"},[Object(l["o"])("a",{class:"header-anchor",href:"#yi-lai-lian-dong"},"¶"),Object(l["q"])(" 依赖联动")],-1),$=Object(l["o"])("div",null,[Object(l["o"])("p",null,"依赖联动")],-1);function B(e,n,t,B,R,T){const P=Object(l["T"])("vue-demo0"),_=Object(l["T"])("demo-block"),k=Object(l["T"])("vue-demo1"),I=Object(l["T"])("vue-demo2"),J=Object(l["T"])("vue-demo3"),A=Object(l["T"])("vue-demo4"),K=Object(l["T"])("code-viewer"),C=Object(l["T"])("vue-demo5"),D=Object(l["T"])("vue-demo6"),E=Object(l["T"])("vue-demo7");return Object(l["K"])(),Object(l["n"])("section",a,[o,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(P)]),default:Object(l["hb"])(()=>[s]),_:1}),c,m,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(k)]),default:Object(l["hb"])(()=>[r]),_:1}),d,i,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            offsetRight: 16,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(I)]),default:Object(l["hb"])(()=>[b]),_:1}),p,u,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(J)]),default:Object(l["hb"])(()=>[f]),_:1}),h,v,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\',\n              prefix(h) {\n                return <span>前置插槽</span>;\n              },\n              suffix(h) {\n                return <span>后置插槽</span>;\n              },\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(A)]),default:Object(l["hb"])(()=>[j]),_:1}),O,g,x,Object(l["r"])(K,null,{default:Object(l["hb"])(()=>[w]),_:1}),y,F,S,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              },\n              events: {\n                change($event) {\n                  vm.test.model.age = 20;\n                  debugger\n                },\n              },\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n.page-container {}\n</style>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(C)]),default:Object(l["hb"])(()=>[X]),_:1}),z,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  },\n\n  mounted() {\n    const $namesex = this.$refs.test.selectItems(\'name,sex\')\n    const $age = this.$refs.test.selectItems(\'age\')\n    $namesex.on(\'change\', ($event, model, item) => {\n      $age.value(20)\n    })\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(D)]),default:Object(l["hb"])(()=>[q]),_:1}),W,Object(l["r"])(_,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "地区部",\n            field: "region",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "亚太", value: "yt" },\n                    { label: "欧洲", value: "oz" },\n                    { label: "美洲", value: "mz" },\n                  ]);\n                },\n                trigger: \'focus\',\n                times: \'once\',\n                lazy: true,\n              },\n            },\n          },\n          {\n            label: "代表处",\n            field: "regRegion",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              dependency: \'region\',\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "中国代表处", value: "zgdbc" },\n                    { label: "日本代表处", value: "rbdbc" },\n                    { label: "韩国代表处", value: "hgdbc" },\n                  ]);\n                },\n              },\n            },\n          },\n          {\n            label: "国家/地区",\n            field: "country",\n            offset: 0,\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              dependency: \'regRegion\',\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "日本", value: "rb" },\n                  ]);\n                },\n              },\n            },\n          },\n        ],\n        model: {\n          region: "",\n          regRegion: "",\n          country: "",\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(l["hb"])(()=>[Object(l["r"])(E)]),default:Object(l["hb"])(()=>[$]),_:1})])}var R={name:"component-doc",components:{"vue-demo0":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" />\n</div>',data(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo1":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" />\n</div>',data(e){return{test:{schema:[{label:"姓名",span:8,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo2":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"姓名",span:8,offsetRight:16,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo3":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo4":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input",prefix(e){return Object(l["r"])("span",null,[Object(l["q"])("前置插槽")])},suffix(e){return Object(l["r"])("span",null,[Object(l["q"])("后置插槽")])}}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo5":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"姓名",span:8,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]},events:{change(n){e.test.model.age=20}}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo6":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}},mounted(){const e=this.$refs.test.selectItems("name,sex"),n=this.$refs.test.selectItems("age");e.on("change",(e,t,l)=>{n.value(20)})}},"vue-demo7":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data(e){return{test:{schema:[{label:"地区部",field:"region",editor:{component:"a-select",props:{options:[]}},effects:{suggest:{loader(e,n,t){return Promise.resolve([{label:"亚太",value:"yt"},{label:"欧洲",value:"oz"},{label:"美洲",value:"mz"}])},trigger:"focus",times:"once",lazy:!0}}},{label:"代表处",field:"regRegion",editor:{component:"a-select",props:{options:[]}},effects:{dependency:"region",suggest:{loader(e,n,t){return Promise.resolve([{label:"中国代表处",value:"zgdbc"},{label:"日本代表处",value:"rbdbc"},{label:"韩国代表处",value:"hgdbc"}])}}}},{label:"国家/地区",field:"country",offset:0,editor:{component:"a-select",props:{options:[]}},effects:{dependency:"regRegion",suggest:{loader(e,n,t){return Promise.resolve([{label:"日本",value:"rb"}])}}}}],model:{region:"",regRegion:"",country:""}}}}}}},T=t("6b0d"),P=t.n(T);const _=P()(R,[["render",B]]);n["default"]=_}}]);