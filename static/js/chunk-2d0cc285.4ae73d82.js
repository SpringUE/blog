(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc285"],{"4d76":function(e,n,t){"use strict";t.r(n);var o=t("f2bf"),a={class:"blog-doc-component"},l=Object(o["p"])('<h1>XForm表单</h1><h2 id="bei-jing" tabindex="-1"><a class="header-anchor" href="#bei-jing">¶</a> 背景</h2><p>复杂型表单组件逻辑处理繁琐<br> element-ui没有功能强大的表单组件</p><h2 id="he-xin-gong-neng" tabindex="-1"><a class="header-anchor" href="#he-xin-gong-neng">¶</a> 核心功能</h2><p>*基于element-ui的el-form封装，使用json配置生成表单<br> *支持栅格化布局，支持向右排斥槽位(例如一个为span=4的表单项独占一行)<br> *支持表单项前置&amp;后置插槽<br> *支持任意组件，以及props|events传参<br> *内置依赖联动功能<br> *支持选择任意表单项进行事件监听或者操作赋值等<br> *支持动态插入表单项<br> *支持跨表单项联动<br> *记忆重置功能</p><h2 id="dian-xing-biao-dan" tabindex="-1"><a class="header-anchor" href="#dian-xing-biao-dan">¶</a> 典型表单</h2><p>通过json来配置表单项</p>',7),s=Object(o["o"])("div",null,[Object(o["o"])("p",null,"典型表单")],-1),r=Object(o["o"])("h2",{id:"bu-ju",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#bu-ju"},"¶"),Object(o["q"])(" 布局")],-1),c=Object(o["o"])("p",null,[Object(o["q"])("采用栅格化布局"),Object(o["o"])("br"),Object(o["q"])(" labelWidth属性设置所有表单项label的宽度"),Object(o["o"])("br"),Object(o["q"])(" span属性设置表单项的局部栅格，默认为8，也就是三列一行"),Object(o["o"])("br"),Object(o["q"])(" 若要行内表单请根据栅格调整")],-1),m=Object(o["o"])("div",null,[Object(o["o"])("p",null,"布局")],-1),i=Object(o["o"])("h2",{id:"du-zhan-yi-xing",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#du-zhan-yi-xing"},"¶"),Object(o["q"])(" 独占一行")],-1),d=Object(o["o"])("p",null,"表单项中设置offsetRight属性向右排斥槽位即可(栅格)，例如：offsetRight: 16，向右排斥16个栅格",-1),u=Object(o["o"])("div",null,[Object(o["o"])("p",null,"独占一行")],-1),p=Object(o["o"])("h2",{id:"an-niu-lan",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#an-niu-lan"},"¶"),Object(o["q"])(" 按钮栏")],-1),b=Object(o["o"])("p",null,"隐藏按钮栏",-1),f=Object(o["o"])("div",null,[Object(o["o"])("p",null,"按钮栏")],-1),h=Object(o["o"])("h2",{id:"cha-cao",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#cha-cao"},"¶"),Object(o["q"])(" 插槽")],-1),v=Object(o["o"])("p",null,"表单项内容区前置, 后置插槽",-1),j=Object(o["o"])("div",null,[Object(o["o"])("p",null,"插槽")],-1),g=Object(o["p"])('<h2 id="zu-jian-shu-ru" tabindex="-1"><a class="header-anchor" href="#zu-jian-shu-ru">¶</a> 组件输入</h2><p>支持任意形式组件，以及props|events传参</p><ul><li>Antd组件</li><li>自定义组件</li><li>第三方组件</li><li>Object对象组件</li></ul><pre><code class="language-html">&lt;template&gt;\n  &lt;XForm ref=&quot;test&quot; :schema=&quot;test.schema&quot; v-model=&quot;test.model&quot; labelWidth=&quot;120px&quot; :showSubmitBar=&quot;false&quot; /&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport { Select } from &quot;ant-design-vue&quot;;\nimport { PopSelector } from &quot;@/src/components/PopSelector.vue&quot;;\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: &quot;审批人&quot;,\n            field: &quot;approver&quot;,\n            editor: {\n              component: PopSelector,\n            }\n          },\n          {\n            label: &quot;活动区域&quot;,\n            field: &quot;area&quot;,\n            editor: {\n              component: Select,\n              props: {\n                options: [],\n              }\n            }\n          },\n          {\n            label: &quot;活动主题&quot;,\n            field: &quot;theme&quot;,\n            editor: {\n              component: {\n                template: `&lt;a-textarea\n      v-model:value=&quot;value2&quot;\n      placeholder=&quot;主题内容...&quot;\n      @change=&quot;e =&gt; $emit(&#39;input&#39;, e)&quot;\n      :auto-size=&quot;{ minRows: 2, maxRows: 5 }&quot;\n    /&gt;`,\n                props: [&#39;value&#39;],\n                data() {\n                  return {\n                    value2: &#39;&#39;\n                  }\n                }\n              }\n            }\n          },\n        ],\n        model: {\n          approver: &quot;&quot;,\n          area: &quot;man&quot;,\n          theme: &#39;&#39;,\n        },\n      },\n    };\n  }\n}\n&lt;/script&gt;\n\n&lt;style lang=&quot;less&quot; scoped&gt;\n.page-container {}\n&lt;/style&gt;\n</code></pre><p>:::</p><h2 id="shi-jian-yu-jian-ting" tabindex="-1"><a class="header-anchor" href="#shi-jian-yu-jian-ting">¶</a> 事件与监听</h2><p>支持选择任意表单项进行事件监听或者操作赋值等</p>',7),O=Object(o["o"])("div",null,[Object(o["o"])("p",null,"插槽")],-1),x=Object(o["o"])("h2",{id:"refcao-zuo",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#refcao-zuo"},"¶"),Object(o["q"])(" ref操作")],-1),q=Object(o["o"])("div",null,[Object(o["o"])("p",null,"ref操作")],-1),w=Object(o["o"])("h2",{id:"yi-lai-lian-dong",tabindex:"-1"},[Object(o["o"])("a",{class:"header-anchor",href:"#yi-lai-lian-dong"},"¶"),Object(o["q"])(" 依赖联动")],-1),y=Object(o["o"])("div",null,[Object(o["o"])("p",null,"依赖联动")],-1);function F(e,n,t,F,S,X){var z=Object(o["U"])("vue-demo0"),W=Object(o["U"])("demo-block"),$=Object(o["U"])("vue-demo1"),B=Object(o["U"])("vue-demo2"),R=Object(o["U"])("vue-demo3"),P=Object(o["U"])("vue-demo4"),U=Object(o["U"])("vue-demo5"),_=Object(o["U"])("vue-demo6"),k=Object(o["U"])("vue-demo7");return Object(o["L"])(),Object(o["n"])("section",a,[l,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(z)]})),default:Object(o["jb"])((function(){return[s]})),_:1}),r,c,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])($)]})),default:Object(o["jb"])((function(){return[m]})),_:1}),i,d,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            offsetRight: 16,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(B)]})),default:Object(o["jb"])((function(){return[u]})),_:1}),p,b,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(R)]})),default:Object(o["jb"])((function(){return[f]})),_:1}),h,v,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\',\n              prefix(h) {\n                return <span>前置插槽</span>;\n              },\n              suffix(h) {\n                return <span>后置插槽</span>;\n              },\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(P)]})),default:Object(o["jb"])((function(){return[j]})),_:1}),g,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            span: 8,\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              },\n              events: {\n                change($event) {\n                  vm.test.model.age = 20;\n                  debugger\n                },\n              },\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  }\n}\n<\/script>\n\n<style lang="less" scoped>\n.page-container {}\n</style>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(U)]})),default:Object(o["jb"])((function(){return[O]})),_:1}),x,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "姓名",\n            field: "name",\n            editor: {\n              component: \'a-input\',\n            }\n          },\n          {\n            label: "性别",\n            field: "sex",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [\n                    { label: "男", value: "man" },\n                    { label: "女", value: "women" },\n                  ],\n              }\n            }\n          },\n          {\n            label: "年龄",\n            field: "age",\n            offset: 0,\n            editor: {\n              component: \'a-input\'\n            }\n          },\n        ],\n        model: {\n          name: "",\n          sex: "man",\n          age: null,\n        },\n      },\n    };\n  },\n\n  mounted() {\n    const $namesex = this.$refs.test.selectItems(\'name,sex\')\n    const $age = this.$refs.test.selectItems(\'age\')\n    $namesex.on(\'change\', ($event, model, item) => {\n      $age.value(20)\n    })\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(_)]})),default:Object(o["jb"])((function(){return[q]})),_:1}),w,Object(o["r"])(W,{code:'<template>\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</template>\n\n<script>\nexport default {\n  data(vm) {\n    return {\n      test: {\n        schema: [\n          {\n            label: "地区部",\n            field: "region",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "亚太", value: "yt" },\n                    { label: "欧洲", value: "oz" },\n                    { label: "美洲", value: "mz" },\n                  ]);\n                },\n                trigger: \'focus\',\n                times: \'once\',\n                lazy: true,\n              },\n            },\n          },\n          {\n            label: "代表处",\n            field: "regRegion",\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              dependency: \'region\',\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "中国代表处", value: "zgdbc" },\n                    { label: "日本代表处", value: "rbdbc" },\n                    { label: "韩国代表处", value: "hgdbc" },\n                  ]);\n                },\n              },\n            },\n          },\n          {\n            label: "国家/地区",\n            field: "country",\n            offset: 0,\n            editor: {\n              component: \'a-select\',\n              props: {\n                options: [],\n              },\n            },\n            effects: {\n              dependency: \'regRegion\',\n              suggest: {\n                loader($event, model, item) {\n                  return Promise.resolve([\n                    { label: "日本", value: "rb" },\n                  ]);\n                },\n              },\n            },\n          },\n        ],\n        model: {\n          region: "",\n          regRegion: "",\n          country: "",\n        },\n      },\n    };\n  }\n}\n<\/script>\n'},{source:Object(o["jb"])((function(){return[Object(o["r"])(k)]})),default:Object(o["jb"])((function(){return[y]})),_:1})])}t("d3b7");var S={name:"component-doc",components:{"vue-demo0":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo1":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",span:8,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo2":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",span:8,offsetRight:16,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo3":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo4":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input",prefix:function(e){return Object(o["r"])("span",null,[Object(o["q"])("前置插槽")])},suffix:function(e){return Object(o["r"])("span",null,[Object(o["q"])("后置插槽")])}}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo5":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",span:8,field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]},events:{change:function(n){e.test.model.age=20}}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}}},"vue-demo6":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"姓名",field:"name",editor:{component:"a-input"}},{label:"性别",field:"sex",editor:{component:"a-select",props:{options:[{label:"男",value:"man"},{label:"女",value:"women"}]}}},{label:"年龄",field:"age",offset:0,editor:{component:"a-input"}}],model:{name:"",sex:"man",age:null}}}},mounted:function(){var e=this.$refs.test.selectItems("name,sex"),n=this.$refs.test.selectItems("age");e.on("change",(function(e,t,o){n.value(20)}))}},"vue-demo7":{template:'<div class="demo-component-root">\n  <XForm ref="test" :schema="test.schema" v-model="test.model" labelWidth="120px" :showSubmitBar="false" />\n</div>',data:function(e){return{test:{schema:[{label:"地区部",field:"region",editor:{component:"a-select",props:{options:[]}},effects:{suggest:{loader:function(e,n,t){return Promise.resolve([{label:"亚太",value:"yt"},{label:"欧洲",value:"oz"},{label:"美洲",value:"mz"}])},trigger:"focus",times:"once",lazy:!0}}},{label:"代表处",field:"regRegion",editor:{component:"a-select",props:{options:[]}},effects:{dependency:"region",suggest:{loader:function(e,n,t){return Promise.resolve([{label:"中国代表处",value:"zgdbc"},{label:"日本代表处",value:"rbdbc"},{label:"韩国代表处",value:"hgdbc"}])}}}},{label:"国家/地区",field:"country",offset:0,editor:{component:"a-select",props:{options:[]}},effects:{dependency:"regRegion",suggest:{loader:function(e,n,t){return Promise.resolve([{label:"日本",value:"rb"}])}}}}],model:{region:"",regRegion:"",country:""}}}}}}};S.render=F;n["default"]=S}}]);